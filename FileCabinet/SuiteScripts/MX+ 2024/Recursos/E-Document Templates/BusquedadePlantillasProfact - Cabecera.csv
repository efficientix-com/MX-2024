Internal ID,Name,Content Type,Data Format of Field Mapping,Description,Digital Signature Plugin Implementation,E-Document Package,E-Document Status,Field Mapping for Inbound E-documents,Inbound XSD File,Inject Data Source Plugin Implementation,Outbound XSD File,PAC Identifer,Script ID,Subsidiary,Template for Outbound E-documents,Transaction Type,Validator Help,XSD Folder
6,ProFact Inbound vendor bill template,XML,JSON,Inbound e-document template in XML format to be used for vendor bill generation.,,Default E-Document Package,,"<#ftl ns_prefixes={""cfdi"":""http://www.sat.gob.mx/cfd/3"" , ""tfd"":""http://www.sat.gob.mx/TimbreFiscalDigital""}> {  <#assign currencyIsoNameMap = {     ""USD"":""US Dollar"",     ""MXN"" : ""Mexican Peso"",     ""CAD"" : ""Canadian Dollars"",     ""EUR"" : ""Euros"",     ""GBP"" : ""British Pound""   }>     ""tranid"": ""${XML[""cfdi:Comprobante""][""cfdi:Complemento""][""tfd:TimbreFiscalDigital""].@UUID}"", ""currency"": ""${currencyIsoNameMap[XML[""cfdi:Comprobante""].@Moneda]}"", ""exchangerate"": ""${XML[""cfdi:Comprobante""].@TipoCambio}"", ""custbody_mx_inbound_bill_uuid"": ""${XML[""cfdi:Comprobante""][""cfdi:Complemento""][""tfd:TimbreFiscalDigital""].@UUID}"", ""item"": [ <#list XML[""cfdi:Comprobante""][""cfdi:Conceptos""][""cfdi:Concepto""] as item> { ""vendorcode"": ""${item.@ClaveProdServ}"", ""vendorname"": ""${item.@ClaveProdServ}"", ""quantity"": ""${item.@Cantidad}"", ""rate"": ""${item.@ValorUnitario}"", ""amount"": ""${item.@Importe}"", ""description"": ""${item.@Descripcion}"", ""inventorydetailreq"":false }<#if item_has_next>,</#if> </#list> ] }",,,,-1.821650262E9,VAL_61511_T2220345_795,,,Bill,,
12,ProFact outbound cash sale template,XML,JSON,Outbound e-document template in XML format to be used for cash sale generation. The generated XML file is intended to integrate NetSuite with ProFact in compliance with Mexican legal requirements.,,ProFact E-Document Package,,,,CUSTOMSCRIPT_PI_MX_PAC_GENERATE,,1.612857119E9,VAL_61641_T2220345_945,,"<?xml version=""1.0"" encoding=""utf-8""?>  <#setting locale = ""en_US"">  <#function getAttrPair attr value>    <#if value?has_content>     <#assign result=""${attr}=\""${value}\"""">     <#return result>   </#if>   </#function>  <#function getNodePair node attr value>    <#if value?has_content>     <#assign result=""<${node} ${attr}=\""${value}\"" />"">     <#return result>   </#if>   </#function>  <#if custom.multiCurrencyFeature == ""true""> <#assign ""currencyCode"" = transaction.currencysymbol> <#if transaction.exchangerate == 1> <#assign exchangeRate = 1> <#else> <#assign exchangeRate = transaction.exchangerate?string[""0.000000""]> </#if> <#else> <#assign ""currencyCode"" = ""MXN""> <#assign exchangeRate = 1> </#if> <#if custom.oneWorldFeature == ""true""> <#assign customCompanyInfo = transaction.subsidiary> <#else> <#assign ""customCompanyInfo"" = companyinformation> </#if> <#if customer.isperson == ""T""> <#assign customerName = customer.firstname + ' ' + customer.lastname> <#else> <#assign ""customerName"" = customer.companyname> </#if> <#assign ""summary"" = custom.summary> <#assign ""satCodes"" = custom.satcodes> <#assign ""totalAmount"" = summary.subtotal - summary.totalDiscount> <#assign ""companyTaxRegNumber"" = custom.companyInfo.rfc> <#assign paymentMethod = satCodes.paymentMethod> <#assign paymentTerm = satCodes.paymentTerm> <#if custom.relatedCfdis.types[0] == ""07"">         <#assign paymentMethod = ""30"">         <#assign paymentTerm = ""PUE""> </#if> <cfdi:Comprobante xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:cfdi=""http://www.sat.gob.mx/cfd/3"" xsi:schemaLocation=""http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd""  Fecha=""${transaction.createddate?string.iso_nz}""  ${getAttrPair(""Folio"",transaction.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",transaction.custbody_mx_cfdi_serie)} ${getAttrPair(""FormaPago"",(paymentMethod)!"""")!""""} LugarExpedicion=""${customCompanyInfo.zip}"" ${getAttrPair(""MetodoPago"",(paymentTerm)!"""")!""""} TipoCambio=""${exchangeRate}"" Moneda=""${currencyCode}"" SubTotal=""${summary.subtotal?number?string[""0.00""]}"" TipoDeComprobante=""${satCodes.proofType}"" Total=""${summary.totalAmount?number?string[""0.00""]}"" Version=""3.3"" Descuento=""${summary.totalDiscount?number?abs?string[""0.00""]}"">  <#if transaction.recmachcustrecord_mx_rcs_orig_trans?has_content>  <#list custom.relatedCfdis.types as cfdiRelType>    <cfdi:CfdiRelacionados TipoRelacion=""${cfdiRelType}"">    <#assign ""cfdisArray"" = custom.relatedCfdis.cfdis[""k""+cfdiRelType?index]>    <#if cfdisArray?has_content>    <#list cfdisArray as cfdiIdx>       <cfdi:CfdiRelacionado  UUID=""${transaction.recmachcustrecord_mx_rcs_orig_trans[cfdiIdx.index?number].custrecord_mx_rcs_uuid}"" />    </#list>    </#if>    </cfdi:CfdiRelacionados> </#list>   </#if> <cfdi:Emisor ${getAttrPair(""Nombre"", customCompanyInfo.legalname)} RegimenFiscal=""${satCodes.industryType}"" Rfc=""${companyTaxRegNumber}"" /> <cfdi:Receptor Nombre=""${customerName}"" Rfc=""${customer.custentity_mx_rfc}"" UsoCFDI=""${satCodes.cfdiUsage}"" /> <cfdi:Conceptos>    <#list custom.items as customItem>    <#assign ""item"" = transaction.item[customItem.line?number]>    <#assign ""taxes"" = customItem.taxes>    <#assign ""itemSatCodes"" = satCodes.items[customItem.line?number]>    <#if customItem.type == ""Group""  || customItem.type == ""Kit"">       <#assign ""itemSatUnitCode"" = ""H87"">    <#else>       <#assign ""itemSatUnitCode"" = (customItem.satUnitCode)!"""">    </#if>    <cfdi:Concepto     Cantidad=""${item.quantity?string[""0.000000""]}""     ${getAttrPair(""ClaveProdServ"",(itemSatCodes.itemCode)!"""")!""""}     ${getAttrPair(""ClaveUnidad"",itemSatUnitCode)!""""}     Descripcion=""${item.description}""     Importe=""${customItem.amount?number?string[""0.00""]}""     ValorUnitario=""${customItem.rate?number?string[""0.00""]}""     Descuento=""${customItem.totalDiscount?number?abs?string[""0.00""]}"">    <cfdi:Impuestos>       <#if taxes.taxItems?has_content>       <cfdi:Traslados>          <#list taxes.taxItems as customTaxItem>          <#if customTaxItem.taxFactorType == ""Exento"">          <cfdi:Traslado Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TipoFactor=""${customTaxItem.taxFactorType}"" />          </#if>          <#if !customTaxItem.taxFactorType?has_content || customTaxItem.taxFactorType != ""Exento"">          <cfdi:Traslado Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" />          </#if>          </#list>       </cfdi:Traslados>       </#if>       <#if taxes.whTaxItems?has_content>       <cfdi:Retenciones>          <#list taxes.whTaxItems as customTaxItem>          <cfdi:Retencion Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" />          </#list>       </cfdi:Retenciones>       </#if>    </cfdi:Impuestos>    ${getNodePair(""cfdi:InformacionAduanera"", ""NumeroPedimento"" ,item.custcol_mx_txn_line_sat_cust_req_num)}    ${getNodePair(""cfdi:CuentaPredial"", ""Numero"" ,item.custcol_mx_txn_line_sat_cadastre_id)}    <#if customItem.parts?has_content>    <#list customItem.parts as part>    <#assign ""partItem"" = transaction.item[part.line?number]>    <#assign ""partSatCodes"" = satCodes.items[part.line?number]>    <cfdi:Parte Cantidad=""${partItem.quantity?string[""0.0""]}"" ClaveProdServ=""${partSatCodes.itemCode}"" Descripcion=""${partItem.description}"" Importe=""${part.amount?number?string[""0.00""]}"" ValorUnitario=""${part.rate?number?string[""0.00""]}""/>    </#list>    </#if>    </cfdi:Concepto>    </#list> </cfdi:Conceptos> <#if summary.includeWithHolding == ""true"" || summary.includeTransfers == ""true""> <#if summary.includeWithHolding == ""true"" && summary.includeTransfers == ""true""> <cfdi:Impuestos TotalImpuestosRetenidos=""${summary.totalWithHoldTaxAmt?number?string[""0.00""]}"" TotalImpuestosTrasladados=""${summary.totalNonWithHoldTaxAmt?number?string[""0.00""]}""> <#elseif summary.includeWithHolding == ""true""> <cfdi:Impuestos TotalImpuestosRetenidos=""${summary.totalWithHoldTaxAmt?number?string[""0.00""]}""> <#elseif summary.includeTransfers == ""true""> <cfdi:Impuestos TotalImpuestosTrasladados=""${summary.totalNonWithHoldTaxAmt?number?string[""0.00""]}""> </#if> <#if summary.includeWithHolding == ""true""> <cfdi:Retenciones>    <#list summary.whTaxes as customTaxItem>    <cfdi:Retencion Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" />    </#list> </cfdi:Retenciones> </#if> <#if summary.includeTransfers == ""true""> <cfdi:Traslados>    <#list summary.transferTaxes as customTaxItem>    <#if !customTaxItem.taxFactorType?has_content || customTaxItem.taxFactorType != ""Exento"">    <cfdi:Traslado Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" />    </#if>    </#list> </cfdi:Traslados> </#if> <#if summary.includeWithHolding == ""true"" || summary.includeTransfers == ""true""> </cfdi:Impuestos> </#if> </#if> </cfdi:Comprobante>",Cash Sale,,
13,ProFact outbound credit memo template,XML,JSON,Outbound e-document template in XML format to be used for credit memo generation. The generated XML file is intended to integrate NetSuite with ProFact in compliance with Mexican legal requirements.,,ProFact E-Document Package,,,,CUSTOMSCRIPT_PI_MX_PAC_GENERATE,,-2.065839918E9,VAL_61661_T2220345_486,,"<?xml version=""1.0"" encoding=""utf-8""?>  <#setting locale = ""en_US"">  <#function getAttrPair attr value> <#if value?has_content> <#assign result=""${attr}=\""${value}\""""> <#return result> </#if> </#function>  <#function getNodePair node attr value> <#if value?has_content> <#assign result=""<${node} ${attr}=\""${value}\"" />""> <#return result> </#if> </#function>  <#if custom.multiCurrencyFeature == ""true""> <#assign ""currencyCode"" = transaction.currencysymbol> <#if transaction.exchangerate == 1> <#assign exchangeRate = 1> <#else> <#assign exchangeRate = transaction.exchangerate?string[""0.000000""]> </#if> <#else> <#assign ""currencyCode"" = ""MXN""> <#assign exchangeRate = 1> </#if> <#if custom.oneWorldFeature == ""true""> <#assign customCompanyInfo = transaction.subsidiary> <#else> <#assign ""customCompanyInfo"" = companyinformation> </#if> <#if customer.isperson == ""T""> <#assign customerName = customer.firstname + ' ' + customer.lastname> <#else> <#assign ""customerName"" = customer.companyname> </#if> <#assign ""summary"" = custom.summary> <#assign ""satCodes"" = custom.satcodes> <#assign ""totalAmount"" = summary.subtotal - summary.totalDiscount> <#assign ""companyTaxRegNumber"" = custom.companyInfo.rfc> <#assign paymentMethod = satCodes.paymentMethod> <#assign paymentTerm = satCodes.paymentTerm> <#if custom.relatedCfdis.types[0] == ""07""> <#assign paymentMethod = ""30""> <#assign paymentTerm = ""PUE""> </#if> <cfdi:Comprobante         xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance""         xmlns:cce11=""http://www.sat.gob.mx/ComercioExterior11""         xmlns:cfdi=""http://www.sat.gob.mx/cfd/3"" xsi:schemaLocation=""http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd http://www.sat.gob.mx/ComercioExterior11 http://www.sat.gob.mx/sitio_internet/cfd/ComercioExterior11/ComercioExterior11.xsd""         Fecha=""${transaction.trandate?string.iso_nz}T01:03:22""         ${getAttrPair(""Folio"",transaction.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",transaction.custbody_mx_cfdi_serie)} ${getAttrPair(""FormaPago"",(paymentMethod)!"""")!""""} LugarExpedicion=""${customCompanyInfo.zip}"" ${getAttrPair(""MetodoPago"",(paymentTerm)!"""")!""""} TipoCambio=""${exchangeRate}"" Moneda=""${currencyCode}"" SubTotal=""${summary.subtotal?number?string[""0.00""]}"" TipoDeComprobante=""${satCodes.proofType}"" Total=""${summary.totalAmount?number?string[""0.00""]}"" Version=""3.3"" Descuento=""${summary.totalDiscount?number?abs?string[""0.00""]}"">  <#if transaction.recmachcustrecord_mx_rcs_orig_trans?has_content>  <#list custom.relatedCfdis.types as cfdiRelType> <cfdi:CfdiRelacionados TipoRelacion=""${cfdiRelType}"">     <#assign ""cfdisArray"" = custom.relatedCfdis.cfdis[""k""+cfdiRelType?index]>     <#if cfdisArray?has_content>     <#list cfdisArray as cfdiIdx>     <cfdi:CfdiRelacionado  UUID=""${transaction.recmachcustrecord_mx_rcs_orig_trans[cfdiIdx.index?number].custrecord_mx_rcs_uuid}"" /> </#list> </#if> </cfdi:CfdiRelacionados> </#list> </#if> <cfdi:Emisor ${getAttrPair(""Nombre"", customCompanyInfo.legalname)} RegimenFiscal=""${satCodes.industryType}"" Rfc=""${companyTaxRegNumber}"" /> <cfdi:Receptor Nombre=""${customerName}"" Rfc=""${customer.custentity_mx_rfc}"" UsoCFDI=""${satCodes.cfdiUsage}"" /> <cfdi:Conceptos>     <#list custom.items as customItem>     <#assign ""item"" = transaction.item[customItem.line?number]>     <#assign ""taxes"" = customItem.taxes>     <#assign ""itemSatCodes"" = satCodes.items[customItem.line?number]>     <#if customItem.type == ""Group""  || customItem.type == ""Kit"">     <#assign ""itemSatUnitCode"" = ""H87"">     <#else>     <#assign ""itemSatUnitCode"" = (customItem.satUnitCode)!"""">     <#assign desglose_json = item.custcol_efx_fe_tax_json>     <#assign desglose = desglose_json?eval> </#if> <cfdi:Concepto         Cantidad=""${item.quantity?string[""0.000000""]}"" ${getAttrPair(""ClaveProdServ"",(itemSatCodes.itemCode)!"""")!""""} ${getAttrPair(""ClaveUnidad"",itemSatUnitCode)!""""} Descripcion=""${item.description}"" Importe=""${customItem.amount?number?string[""0.00""]}"" ValorUnitario=""${customItem.rate?number?string[""0.00""]}"" Descuento=""${customItem.totalDiscount?number?abs?string[""0.00""]}""> <cfdi:Impuestos>     <#if taxes.taxItems?has_content>     <cfdi:Traslados>         <#list taxes.taxItems as customTaxItem>         <#if customTaxItem.taxFactorType == ""Exento"">         <cfdi:Traslado Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TipoFactor=""${customTaxItem.taxFactorType}"" />     </#if>     <#if !customTaxItem.taxFactorType?has_content || customTaxItem.taxFactorType != ""Exento"">     <#if customTaxItem.taxAmount?number gt 0>     <cfdi:Traslado Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" /> </#if> </#if> </#list> </cfdi:Traslados> </#if> <#if desglose.retenciones.name?has_content> <cfdi:Retenciones>      <cfdi:Retencion Base=""${desglose.retenciones.base_importe?number?string[""0.00""]}"" Importe=""${desglose.retenciones.importe?number?string[""0.00""]}"" Impuesto=""002"" TasaOCuota=""${desglose.retenciones.rate_div?number?string[""0.000000""]}"" TipoFactor=""Tasa"" />  </cfdi:Retenciones> </#if> </cfdi:Impuestos> ${getNodePair(""cfdi:InformacionAduanera"", ""NumeroPedimento"" ,item.custcol_mx_txn_line_sat_cust_req_num)} ${getNodePair(""cfdi:CuentaPredial"", ""Numero"" ,item.custcol_mx_txn_line_sat_cadastre_id)} <#if customItem.parts?has_content> <#list customItem.parts as part> <#assign ""partItem"" = transaction.item[part.line?number]> <#assign ""partSatCodes"" = satCodes.items[part.line?number]> <cfdi:Parte Cantidad=""${partItem.quantity?string[""0.0""]}"" ClaveProdServ=""${partSatCodes.itemCode}"" Descripcion=""${partItem.description}"" Importe=""${part.amount?number?string[""0.00""]}"" ValorUnitario=""${part.rate?number?string[""0.00""]}""/> </#list> </#if> </cfdi:Concepto> </#list> </cfdi:Conceptos>  <#assign desglose_json_cabecera = transaction.custbody_efx_fe_tax_json> <#assign desglose_cab = desglose_json_cabecera?eval> <#assign total_tras = summary.totalNonWithHoldTaxAmt?number + desglose_cab.retencion_total?number> <#if desglose_cab.retencion_total != ""0.00"" || summary.includeTransfers == ""true""> <#if desglose_cab.retencion_total != ""0.00"" && summary.includeTransfers == ""true""> <cfdi:Impuestos TotalImpuestosRetenidos=""${desglose_cab.retencion_total?number?string[""0.00""]}"" TotalImpuestosTrasladados=""${total_tras?number?string[""0.00""]}""> <#elseif desglose_cab.retencion_total != ""0.00""> <cfdi:Impuestos TotalImpuestosRetenidos=""${desglose_cab.retencion_total?number?string[""0.00""]}""> <#elseif summary.includeTransfers == ""true""> <cfdi:Impuestos TotalImpuestosTrasladados=""${summary.totalNonWithHoldTaxAmt?number?string[""0.00""]}""> </#if> <#if desglose_cab.retencion_total != ""0.00""> <cfdi:Retenciones>     <#list custom.items as customItem>     <#assign desglose_json = item.custcol_efx_fe_tax_json>     <#assign desglose = desglose_json?eval>     <#if desglose.retenciones.name?has_content>     <cfdi:Retencion Importe=""${desglose.retenciones.importe?number?string[""0.00""]}"" Impuesto=""002"" /> </#if> </#list> </cfdi:Retenciones> </#if> <#if summary.includeTransfers == ""true""> <cfdi:Traslados>     <#list summary.transferTaxes as customTaxItem>     <#if !customTaxItem.taxFactorType?has_content || customTaxItem.taxFactorType != ""Exento"">     <#if customTaxItem.taxAmount?number gt 0>     <cfdi:Traslado Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" /> </#if> </#if> </#list> </cfdi:Traslados> </#if> <#if summary.includeWithHolding == ""true"" || summary.includeTransfers == ""true""> </cfdi:Impuestos> </#if> </#if> <#assign ""Addenda"" = transaction.custbody_mx_cfdi_sat_addendum> <#assign ""ComercioE"" = transaction.custbody_efx_fe_comercio_exterior> <#if Addenda?has_content || ComercioE == true> <#if Addenda?has_content> ${Addenda?replace("">"", "">"")?replace(""<"", ""<"")?replace(""<br />"","""")} </#if> </#if> </cfdi:Comprobante>",Credit Memo,,
16,ProFact outbound customer payment template,XML,JSON,Outbound e-document template in XML format to be used for customer payment generation. The generated XML file is intended to integrate NetSuite with ProFact in compliance with Mexican legal requirements.,,ProFact E-Document Package,,,,CUSTOMSCRIPT_PI_MX_PAC_GENERATE,,-1.737755523E9,VAL_61722_T2220345_477,,"<?xml version=""1.0"" encoding=""utf-8""?> <#setting locale = ""en_US""> <#function getAttrPair attr value> <#if value?has_content> <#assign result=""${attr}=\""${value}\""""> <#return result> </#if>  </#function> <#if custom.multiCurrencyFeature == ""true""> <#assign ""currencyCode"" = transaction.currencysymbol> <#if transaction.exchangerate == 1> <#assign exchangeRate = 1> <#else> <#assign exchangeRate = transaction.exchangerate?string[""0.000000""]> </#if> <#else> <#assign ""currencyCode"" = ""MXN""> <#assign exchangeRate = 1> </#if> <#if custom.oneWorldFeature == ""true""> <#assign customCompanyInfo = transaction.subsidiary> <#else> <#assign ""customCompanyInfo"" = companyinformation> </#if> <#if customer.isperson == ""T""> <#assign customerName = customer.firstname + ' ' + customer.lastname> <#else> <#assign ""customerName"" = customer.companyname> </#if> <#assign ""summary"" = custom.summary> <#assign ""satCodes"" = custom.satcodes> <#assign ""companyTaxRegNumber"" = custom.companyInfo.rfc> <cfdi:Comprobante xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:cfdi=""http://www.sat.gob.mx/cfd/3"" xsi:schemaLocation=""http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd http://www.sat.gob.mx/Pagos http://www.sat.gob.mx/sitio_internet/cfd/Pagos/Pagos10.xsd""                     <#if transaction.custbody_efx_fe_actual_date == true>                     <#assign aDateTime = .now>                     <#assign aDate = aDateTime?date>                     Fecha=""${aDate?iso_utc}T${transaction.custbody_efx_fe_actual_hour}""                 <#else>                     Fecha=""${transaction.trandate?string.iso_nz}T${transaction.custbody_efx_fe_actual_hour}""                 </#if>                   ${getAttrPair(""Folio"",transaction.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",transaction.custbody_mx_cfdi_serie)} LugarExpedicion=""${customCompanyInfo.zip}"" Moneda=""XXX"" SubTotal=""0"" TipoDeComprobante=""P"" Total=""0"" Version=""3.3""> <#if transaction.recmachcustrecord_mx_rcs_orig_trans?has_content> <#list custom.relatedCfdis.types as cfdiRelType> <cfdi:CfdiRelacionados TipoRelacion=""${cfdiRelType}"">     <#assign ""cfdisArray"" = custom.relatedCfdis.cfdis[""k""+cfdiRelType?index]>     <#if cfdisArray?has_content>     <#list cfdisArray as cfdiIdx>     <cfdi:CfdiRelacionado  UUID=""${transaction.recmachcustrecord_mx_rcs_orig_trans[cfdiIdx.index?number].custrecord_mx_rcs_uuid}"" /> </#list> </#if> </cfdi:CfdiRelacionados> </#list> </#if> <cfdi:Emisor ${getAttrPair(""Nombre"", customCompanyInfo.legalname)} RegimenFiscal=""${satCodes.industryType}"" Rfc=""${companyTaxRegNumber}"" />  <#if transaction.custbody_efx_fe_entity_timbra?has_content> <cfdi:Receptor Nombre=""${transaction.custbody_efx_fe_factoraje_receptor}"" Rfc=""${transaction.custbody_efx_fe_factoraje_rfc}"" UsoCFDI=""P01"" /> <#else> <cfdi:Receptor Nombre=""${customerName}"" Rfc=""${customer.custentity_mx_rfc}"" UsoCFDI=""P01"" /> </#if>  <cfdi:Conceptos>     <cfdi:Concepto Cantidad=""1"" ClaveProdServ=""84111506"" ClaveUnidad=""ACT"" Descripcion=""Pago"" Importe=""0"" ValorUnitario=""0"" /> </cfdi:Conceptos> <#if currencyCode != ""MXN""> <#assign exchangeRateVal = exchangeRate> </#if>  <#if currencyCode == ""MXN""> <#if transaction.custbody_efx_fe_moneda?has_content> <#if transaction.custbody_efx_fe_moneda != transaction.currency> <#assign currencyCode = transaction.custbody_efx_fe_moneda.symbol> <#assign exchangeRateVal = exchangeRate> </#if> </#if> </#if>  <cfdi:Complemento>     <pago10:Pagos xmlns:pago10=""http://www.sat.gob.mx/Pagos"" Version=""1.0"">         <pago10:Pago                 FechaPago=""${transaction.trandate?string.iso_nz}T01:03:22""                 FormaDePagoP=""${satCodes.paymentMethod}""                 MonedaP=""${currencyCode}""                 ${getAttrPair(""TipoCambioP"",exchangeRateVal)}         <#if transaction.custbody_efx_fe_chbx_factorage == true>             <#if transaction.custbody_efx_fe_moneda?has_content &&  transaction.custbody_efx_fe_importe?has_content>                 <#assign MontoFactor = transaction.custbody_efx_total_factoraje?number / transaction.custbody_efx_fe_tipo_cambio?number>                 Monto=""${(transaction.custbody_efx_fe_importe - MontoFactor?number)?string[""0.00""]}""             <#else>                 <#assign MontoFactor = transaction.custbody_efx_total_factoraje>                 Monto=""${(transaction.payment + transaction.custbody_efx_total_factoraje?number)?string[""0.00""]}""             </#if>         <#else>         <#if transaction.custbody_efx_fe_moneda?has_content &&  transaction.custbody_efx_fe_importe?has_content>         Monto=""${transaction.custbody_efx_fe_importe}""         <#else>         Monto=""${transaction.payment?string[""0.00""]}""         </#if>         </#if>          <#if transaction.custbody_mx_cfdi_payment_id?has_content>         NumOperacion=""${transaction.custbody_mx_cfdi_payment_id}""     </#if>     <#if transaction.custbody_mx_cfdi_issuer_entity_rfc?has_content>     RfcEmisorCtaOrd=""${transaction.custbody_mx_cfdi_issuer_entity_rfc}"" </#if> <#if transaction.custbody_mx_cfdi_issue_bank_name?has_content> NomBancoOrdExt=""${transaction.custbody_mx_cfdi_issue_bank_name}"" </#if> <#if transaction.custbody_mx_cfdi_payer_account?has_content> CtaOrdenante=""${transaction.custbody_mx_cfdi_payer_account}"" </#if> <#if transaction.custbody_mx_cfdi_recipient_entity_rfc?has_content> RfcEmisorCtaBen=""${transaction.custbody_mx_cfdi_recipient_entity_rfc}"" </#if> <#if transaction.custbody_mx_cfdi_recipient_account?has_content> CtaBeneficiario=""${transaction.custbody_mx_cfdi_recipient_account}"" </#if> <#if transaction.custbody_mx_cfdi_payment_string_type?has_content> TipoCadPago=""${satCodes.paymentStringTypeCode}"" </#if> <#if transaction.custbody_mx_cfdi_payment_certificate?has_content> CertPago=""${transaction.custbody_mx_cfdi_payment_certificate}"" </#if> <#if transaction.custbody_mx_cfdi_payment_string?has_content> CadPago=""${transaction.custbody_mx_cfdi_payment_string}"" </#if> <#if transaction.custbody_mx_cfdi_payment_signature?has_content> SelloPago=""${transaction.custbody_mx_cfdi_payment_signature}"" </#if> >  <#if transaction.custbody_efx_fe_tipo_cambio_factura == true> <#assign ""obj_line_tc"" = transaction.custbody_efx_fe_factoraje_json> <#assign obj_line_tcambio = obj_line_tc?eval> <#list obj_line_tcambio?keys as key>   <#list custom.appliedTxns as appliedTxn> <#if key == appliedTxn.custbody_mx_cfdi_folio> <#assign ""txnitem"" = transaction.apply[appliedTxn.line?number]> <#assign ""invPaymentTerm"" = satCodes.paymentTermInvMap[""d""+appliedTxn.id]> <#if custom.multiCurrencyFeature == ""true""> <#assign appliedTxnCurrency = appliedTxn.currencysymbol> <#else> <#assign appliedTxnCurrency = currencyCode> </#if> <#if transaction.custbody_efx_fe_chbx_factorage == true> <pago10:DoctoRelacionado IdDocumento=""${appliedTxn.custbody_mx_cfdi_uuid}"" ${getAttrPair(""Folio"",appliedTxn.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",appliedTxn.custbody_mx_cfdi_serie)} MonedaDR=""${appliedTxnCurrency}"" <#if transaction.custbody_efx_fe_moneda?has_content &&  transaction.custbody_efx_fe_importe?has_content>TipoCambioDR=""${transaction.custbody_efx_fe_tipo_cambio}""<#elseif transaction.custbody_efx_fe_tipo_cambio_factura == true>TipoCambioDR=""${obj_line_tcambio[key].t_cambio}""</#if> MetodoDePagoDR=""${invPaymentTerm}"" NumParcialidad=""${appliedTxn.order}"" ImpSaldoAnt=""${(txnitem.disc + txnitem.amount)?string[""0.00""]}"" ImpPagado=""${txnitem.amount?string[""0.00""]}"" ImpSaldoInsoluto=""${txnitem.disc?string[""0.00""]}"" /> <#else> <pago10:DoctoRelacionado IdDocumento=""${appliedTxn.custbody_mx_cfdi_uuid}"" ${getAttrPair(""Folio"",appliedTxn.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",appliedTxn.custbody_mx_cfdi_serie)} MonedaDR=""${appliedTxnCurrency}"" <#if transaction.custbody_efx_fe_moneda?has_content &&  transaction.custbody_efx_fe_importe?has_content>TipoCambioDR=""${transaction.custbody_efx_fe_tipo_cambio}""</#if> MetodoDePagoDR=""${invPaymentTerm}"" NumParcialidad=""${appliedTxn.order}"" ImpSaldoAnt=""${(appliedTxn.amountdue?number + txnitem.amount)?string[""0.00""]}"" ImpPagado=""${txnitem.amount?string[""0.00""]}"" ImpSaldoInsoluto=""${appliedTxn.amountdue?number?string[""0.00""]}"" /> </#if> </#if> </#list>   </#list>  <#else>  <#list custom.appliedTxns as appliedTxn> <#assign ""txnitem"" = transaction.apply[appliedTxn.line?number]> <#assign ""invPaymentTerm"" = satCodes.paymentTermInvMap[""d""+appliedTxn.id]> <#if custom.multiCurrencyFeature == ""true""> <#assign appliedTxnCurrency = appliedTxn.currencysymbol> <#else> <#assign appliedTxnCurrency = currencyCode> </#if> <#if transaction.custbody_efx_fe_chbx_factorage == true> <pago10:DoctoRelacionado IdDocumento=""${appliedTxn.custbody_mx_cfdi_uuid}"" ${getAttrPair(""Folio"",appliedTxn.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",appliedTxn.custbody_mx_cfdi_serie)} MonedaDR=""${appliedTxnCurrency}"" <#if transaction.custbody_efx_fe_moneda?has_content &&  transaction.custbody_efx_fe_importe?has_content>TipoCambioDR=""${transaction.custbody_efx_fe_tipo_cambio}""</#if> MetodoDePagoDR=""${invPaymentTerm}"" NumParcialidad=""${appliedTxn.order}"" ImpSaldoAnt=""${(txnitem.disc + txnitem.amount)?string[""0.00""]}"" ImpPagado=""${txnitem.amount?string[""0.00""]}"" ImpSaldoInsoluto=""${txnitem.disc?string[""0.00""]}"" /> <#else> <pago10:DoctoRelacionado IdDocumento=""${appliedTxn.custbody_mx_cfdi_uuid}"" ${getAttrPair(""Folio"",appliedTxn.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",appliedTxn.custbody_mx_cfdi_serie)} MonedaDR=""${appliedTxnCurrency}"" <#if transaction.custbody_efx_fe_moneda?has_content &&  transaction.custbody_efx_fe_importe?has_content>TipoCambioDR=""${transaction.custbody_efx_fe_tipo_cambio}""</#if> MetodoDePagoDR=""${invPaymentTerm}"" NumParcialidad=""${appliedTxn.order}"" ImpSaldoAnt=""${(appliedTxn.amountdue?number + txnitem.amount)?string[""0.00""]}"" ImpPagado=""${txnitem.amount?string[""0.00""]}"" ImpSaldoInsoluto=""${appliedTxn.amountdue?number?string[""0.00""]}"" /> </#if> </#list> </#if>  </pago10:Pago>   <#if transaction.custbody_efx_fe_chbx_factorage == true> <pago10:Pago         FechaPago=""${transaction.trandate?string.iso_nz}T01:03:22""         FormaDePagoP=""17""         MonedaP=""${currencyCode}""         ${getAttrPair(""TipoCambioP"",exchangeRateVal)} Monto=""${MontoFactor?number?string[""0.00""]}"" <#if transaction.custbody_mx_cfdi_payment_id?has_content> NumOperacion=""${transaction.custbody_mx_cfdi_payment_id}"" </#if> <#if transaction.custbody_mx_cfdi_issuer_entity_rfc?has_content> RfcEmisorCtaOrd=""${transaction.custbody_mx_cfdi_issuer_entity_rfc}"" </#if> <#if transaction.custbody_mx_cfdi_issue_bank_name?has_content> NomBancoOrdExt=""${transaction.custbody_mx_cfdi_issue_bank_name}"" </#if> <#if transaction.custbody_mx_cfdi_payer_account?has_content> CtaOrdenante=""${transaction.custbody_mx_cfdi_payer_account}"" </#if> <#if transaction.custbody_mx_cfdi_recipient_entity_rfc?has_content> RfcEmisorCtaBen=""${transaction.custbody_mx_cfdi_recipient_entity_rfc}"" </#if> <#if transaction.custbody_mx_cfdi_recipient_account?has_content> CtaBeneficiario=""${transaction.custbody_mx_cfdi_recipient_account}"" </#if> <#if transaction.custbody_mx_cfdi_payment_string_type?has_content> TipoCadPago=""${satCodes.paymentStringTypeCode}"" </#if> <#if transaction.custbody_mx_cfdi_payment_certificate?has_content> CertPago=""${transaction.custbody_mx_cfdi_payment_certificate}"" </#if> <#if transaction.custbody_mx_cfdi_payment_string?has_content> CadPago=""${transaction.custbody_mx_cfdi_payment_string}"" </#if> <#if transaction.custbody_mx_cfdi_payment_signature?has_content> SelloPago=""${transaction.custbody_mx_cfdi_payment_signature}"" </#if> > <#list custom.appliedTxns as appliedTxn> <#assign ""txnitem"" = transaction.apply[appliedTxn.line?number]> <#assign ""invPaymentTerm"" = satCodes.paymentTermInvMap[""d""+appliedTxn.id]> <#if custom.multiCurrencyFeature == ""true""> <#assign appliedTxnCurrency = appliedTxn.currencysymbol> <#else> <#assign appliedTxnCurrency = currencyCode> </#if> <pago10:DoctoRelacionado IdDocumento=""${appliedTxn.custbody_mx_cfdi_uuid}"" ${getAttrPair(""Folio"",appliedTxn.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",appliedTxn.custbody_mx_cfdi_serie)} MonedaDR=""${appliedTxnCurrency}"" <#if transaction.custbody_efx_fe_moneda?has_content &&  transaction.custbody_efx_fe_importe?has_content>TipoCambioDR=""${transaction.custbody_efx_fe_tipo_cambio}""</#if> MetodoDePagoDR=""${invPaymentTerm}"" NumParcialidad=""${appliedTxn.order?number + 1}"" ImpSaldoAnt=""${txnitem.disc?string[""0.00""]}"" ImpPagado=""${txnitem.disc?string[""0.00""]}"" ImpSaldoInsoluto=""0.00"" /> </#list>  </pago10:Pago> </#if>   </pago10:Pagos> </cfdi:Complemento> </cfdi:Comprobante>",Payment,,
14,ProFact outbound invoice template,XML,JSON,Outbound e-document template in XML format to be used for invoice generation. The generated XML file is intended to integrate NetSuite with ProFact in compliance with Mexican legal requirements.,,ProFact E-Document Package,,,,CUSTOMSCRIPT_PI_MX_PAC_GENERATE,,3.73825702E8,VAL_61683_T2220345_681,,"<?xml version=""1.0"" encoding=""utf-8""?>  <#setting locale = ""en_US"">  <#function getAttrPair attr value>    <#if value?has_content>     <#assign result=""${attr}=\""${value}\"""">     <#return result>   </#if>   </#function>  <#function getNodePair node attr value>    <#if value?has_content>     <#assign result=""<${node} ${attr}=\""${value}\"" />"">     <#return result>   </#if>   </#function>  <#if custom.multiCurrencyFeature == ""true""> <#assign ""currencyCode"" = transaction.currencysymbol> <#if transaction.exchangerate == 1> <#assign exchangeRate = 1> <#else> <#assign exchangeRate = transaction.exchangerate?string[""0.000000""]> </#if> <#else> <#assign ""currencyCode"" = ""MXN""> <#assign exchangeRate = 1> </#if> <#if custom.oneWorldFeature == ""true""> <#assign customCompanyInfo = transaction.subsidiary> <#else> <#assign ""customCompanyInfo"" = companyinformation> </#if> <#if customer.isperson == ""T""> <#assign customerName = customer.firstname + ' ' + customer.lastname> <#else> <#assign ""customerName"" = customer.companyname> </#if> <#assign ""summary"" = custom.summary> <#assign ""satCodes"" = custom.satcodes> <#assign ""totalAmount"" = summary.subtotal - summary.totalDiscount> <#assign ""companyTaxRegNumber"" = custom.companyInfo.rfc> <#assign paymentMethod = satCodes.paymentMethod> <#assign paymentTerm = satCodes.paymentTerm> <#if custom.relatedCfdis.types[0] == ""07"">         <#assign paymentMethod = ""30"">         <#assign paymentTerm = ""PUE""> </#if> <cfdi:Comprobante xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:cfdi=""http://www.sat.gob.mx/cfd/3"" xsi:schemaLocation=""http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd""  Fecha=""${transaction.createddate?string.iso_nz}""  ${getAttrPair(""Folio"",transaction.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",transaction.custbody_mx_cfdi_serie)} ${getAttrPair(""FormaPago"",(paymentMethod)!"""")!""""} LugarExpedicion=""${customCompanyInfo.zip}"" ${getAttrPair(""MetodoPago"",(paymentTerm)!"""")!""""} TipoCambio=""${exchangeRate}"" Moneda=""${currencyCode}"" SubTotal=""${summary.subtotal?number?string[""0.00""]}"" TipoDeComprobante=""${satCodes.proofType}"" Total=""${summary.totalAmount?number?string[""0.00""]}"" Version=""3.3"" Descuento=""${summary.totalDiscount?number?abs?string[""0.00""]}"">  <#if transaction.recmachcustrecord_mx_rcs_orig_trans?has_content>  <#list custom.relatedCfdis.types as cfdiRelType>    <cfdi:CfdiRelacionados TipoRelacion=""${cfdiRelType}"">    <#assign ""cfdisArray"" = custom.relatedCfdis.cfdis[""k""+cfdiRelType?index]>    <#if cfdisArray?has_content>    <#list cfdisArray as cfdiIdx>       <cfdi:CfdiRelacionado  UUID=""${transaction.recmachcustrecord_mx_rcs_orig_trans[cfdiIdx.index?number].custrecord_mx_rcs_uuid}"" />    </#list>    </#if>    </cfdi:CfdiRelacionados> </#list>   </#if> <cfdi:Emisor ${getAttrPair(""Nombre"", customCompanyInfo.legalname)} RegimenFiscal=""${satCodes.industryType}"" Rfc=""${companyTaxRegNumber}"" /> <cfdi:Receptor Nombre=""${customerName}"" Rfc=""${customer.custentity_mx_rfc}"" UsoCFDI=""${satCodes.cfdiUsage}"" /> <cfdi:Conceptos>    <#list custom.items as customItem>    <#assign ""item"" = transaction.item[customItem.line?number]>    <#assign ""taxes"" = customItem.taxes>    <#assign ""itemSatCodes"" = satCodes.items[customItem.line?number]>    <#if customItem.type == ""Group""  || customItem.type == ""Kit"">       <#assign ""itemSatUnitCode"" = ""H87"">    <#else>       <#assign ""itemSatUnitCode"" = (customItem.satUnitCode)!"""">    </#if>    <cfdi:Concepto     Cantidad=""${item.quantity?string[""0.000000""]}""     ${getAttrPair(""ClaveProdServ"",(itemSatCodes.itemCode)!"""")!""""}     ${getAttrPair(""ClaveUnidad"",itemSatUnitCode)!""""}     Descripcion=""${item.description}""     Importe=""${customItem.amount?number?string[""0.00""]}""     ValorUnitario=""${customItem.rate?number?string[""0.00""]}""     Descuento=""${customItem.totalDiscount?number?abs?string[""0.00""]}"">    <cfdi:Impuestos>       <#if taxes.taxItems?has_content>       <cfdi:Traslados>          <#list taxes.taxItems as customTaxItem>          <#if customTaxItem.taxFactorType == ""Exento"">          <cfdi:Traslado Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TipoFactor=""${customTaxItem.taxFactorType}"" />          </#if>          <#if !customTaxItem.taxFactorType?has_content || customTaxItem.taxFactorType != ""Exento"">          <cfdi:Traslado Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" />          </#if>          </#list>       </cfdi:Traslados>       </#if>       <#if taxes.whTaxItems?has_content>       <cfdi:Retenciones>          <#list taxes.whTaxItems as customTaxItem>          <cfdi:Retencion Base=""${customTaxItem.taxBaseAmount?number?string[""0.00""]}"" Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" />          </#list>       </cfdi:Retenciones>       </#if>    </cfdi:Impuestos>    ${getNodePair(""cfdi:InformacionAduanera"", ""NumeroPedimento"" ,item.custcol_mx_txn_line_sat_cust_req_num)}    ${getNodePair(""cfdi:CuentaPredial"", ""Numero"" ,item.custcol_mx_txn_line_sat_cadastre_id)}    <#if customItem.parts?has_content>    <#list customItem.parts as part>    <#assign ""partItem"" = transaction.item[part.line?number]>    <#assign ""partSatCodes"" = satCodes.items[part.line?number]>    <cfdi:Parte Cantidad=""${partItem.quantity?string[""0.0""]}"" ClaveProdServ=""${partSatCodes.itemCode}"" Descripcion=""${partItem.description}"" Importe=""${part.amount?number?string[""0.00""]}"" ValorUnitario=""${part.rate?number?string[""0.00""]}""/>    </#list>    </#if>    </cfdi:Concepto>    </#list> </cfdi:Conceptos> <#if summary.includeWithHolding == ""true"" || summary.includeTransfers == ""true""> <#if summary.includeWithHolding == ""true"" && summary.includeTransfers == ""true""> <cfdi:Impuestos TotalImpuestosRetenidos=""${summary.totalWithHoldTaxAmt?number?string[""0.00""]}"" TotalImpuestosTrasladados=""${summary.totalNonWithHoldTaxAmt?number?string[""0.00""]}""> <#elseif summary.includeWithHolding == ""true""> <cfdi:Impuestos TotalImpuestosRetenidos=""${summary.totalWithHoldTaxAmt?number?string[""0.00""]}""> <#elseif summary.includeTransfers == ""true""> <cfdi:Impuestos TotalImpuestosTrasladados=""${summary.totalNonWithHoldTaxAmt?number?string[""0.00""]}""> </#if> <#if summary.includeWithHolding == ""true""> <cfdi:Retenciones>    <#list summary.whTaxes as customTaxItem>    <cfdi:Retencion Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" />    </#list> </cfdi:Retenciones> </#if> <#if summary.includeTransfers == ""true""> <cfdi:Traslados>    <#list summary.transferTaxes as customTaxItem>    <#if !customTaxItem.taxFactorType?has_content || customTaxItem.taxFactorType != ""Exento"">    <cfdi:Traslado Importe=""${customTaxItem.taxAmount?number?string[""0.00""]}"" Impuesto=""${customTaxItem.satTaxCode}"" TasaOCuota=""${customTaxItem.taxRate?number?string[""0.000000""]}"" TipoFactor=""${customTaxItem.taxFactorType}"" />    </#if>    </#list> </cfdi:Traslados> </#if> <#if summary.includeWithHolding == ""true"" || summary.includeTransfers == ""true""> </cfdi:Impuestos> </#if> </#if> </cfdi:Comprobante>",Invoice,,
15,ProFact outbound item fulfillment template,XML,JSON,Outbound e-document template in XML format to be used for item fulfillment generation. The generated XML file is intended to integrate NetSuite with ProFact in compliance with Mexican legal requirements.,,ProFact E-Document Package,,,,CUSTOMSCRIPT_PI_MX_PAC_GENERATE,,-1.91289016E9,VAL_61703_T2220345_984,,"<?xml version=""1.0"" encoding=""utf-8""?>  <#setting locale = ""en_US"">  <#assign ""summary"" = custom.summary> <#assign ""satCodes"" = custom.satcodes> <#assign ""companyTaxRegNumber"" = custom.companyInfo.rfc>  <#function getAttrPair attr value>    <#if value?has_content>     <#assign result=""${attr}=\""${value}\"""">     <#return result>   </#if>   </#function>  <#function getNodePair node attr value>    <#if value?has_content>     <#assign result=""<${node} ${attr}=\""${value}\"" />"">     <#return result>   </#if>   </#function>  <#if custom.multiCurrencyFeature == ""true""> <#assign ""currencyCode"" = transaction.currencycode> <#if transaction.exchangerate == 1> <#assign exchangeRate = 1> <#else> <#assign exchangeRate = transaction.exchangerate?string[""0.000000""]> </#if> <#else> <#assign ""currencyCode"" = ""MXN""> <#assign exchangeRate = 1> </#if> <#if custom.oneWorldFeature == ""true""> <#assign customCompanyInfo = transaction.subsidiary> <#else> <#assign ""customCompanyInfo"" = companyinformation> </#if>  <#-- The item fulfillment comes from a sales order --> <#if customer??>     <#if customer.isperson == ""T"">         <#assign customerName = customer.firstname + ' ' + customer.lastname>     <#else>         <#assign ""customerName"" = customer.companyname>     </#if>     <#assign ""receptorRfc"" = customer.custentity_mx_rfc> <#-- The item fulfillment comes from a transfer order or from an intercompany transfer order --> <#else>     <#assign ""customerName"" = customCompanyInfo.legalname>     <#assign ""receptorRfc"" = companyTaxRegNumber> </#if>  <#if currencyCode != ""MXN""> <#assign exchangeRateVal = exchangeRate> </#if> <cfdi:Comprobante xmlns:xsi=""http://www.w3.org/2001/XMLSchema-instance"" xmlns:cfdi=""http://www.sat.gob.mx/cfd/3"" xsi:schemaLocation=""http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd""  Fecha=""${transaction.createddate?string.iso_nz}""  ${getAttrPair(""Folio"",transaction.custbody_mx_cfdi_folio)} ${getAttrPair(""Serie"",transaction.custbody_mx_cfdi_serie)} LugarExpedicion=""${customCompanyInfo.zip}"" Moneda=""${currencyCode}"" ${getAttrPair(""TipoCambio"",exchangeRateVal)} SubTotal=""0.00"" TipoDeComprobante=""${satCodes.proofType}"" Total=""0.00"" Version=""3.3""> <#if transaction.recmachcustrecord_mx_rcs_orig_trans?has_content>  <#list custom.relatedCfdis.types as cfdiRelType>    <cfdi:CfdiRelacionados TipoRelacion=""${cfdiRelType}"">    <#assign ""cfdisArray"" = custom.relatedCfdis.cfdis[""k""+cfdiRelType?index]>    <#if cfdisArray?has_content>    <#list cfdisArray as cfdiIdx>       <cfdi:CfdiRelacionado  UUID=""${transaction.recmachcustrecord_mx_rcs_orig_trans[cfdiIdx.index?number].custrecord_mx_rcs_uuid}"" />    </#list>    </#if>    </cfdi:CfdiRelacionados> </#list>   </#if> <cfdi:Emisor ${getAttrPair(""Nombre"", customCompanyInfo.legalname)} RegimenFiscal=""${satCodes.industryType}"" Rfc=""${companyTaxRegNumber}"" /> <cfdi:Receptor Nombre=""${customerName}"" Rfc=""${receptorRfc}"" UsoCFDI=""${satCodes.cfdiUsage}"" /> <cfdi:Conceptos>    <#list custom.items as customItem>    <#assign ""item"" = transaction.item[customItem.line?number]>     <#assign ""itemSatCodes"" = satCodes.items[customItem.line?number]>     <#if customItem.type == ""Group"" || customItem.type == ""Kit"">       <#assign ""itemSatUnitCode"" = ""H87"">    <#else>       <#assign ""itemSatUnitCode"" = (customItem.satUnitCode)!"""">    </#if>    <cfdi:Concepto     Cantidad=""${item.quantity?string[""0.000000""]}""     ${getAttrPair(""ClaveProdServ"",(itemSatCodes.itemCode)!"""")!""""}     ${getAttrPair(""ClaveUnidad"",itemSatUnitCode)!""""}     Descripcion=""${item.description}""     Importe=""${customItem.amount?number?string[""0.00""]}""     ValorUnitario=""0.00"">    ${getNodePair(""cfdi:InformacionAduanera"", ""NumeroPedimento"" ,item.custcol_mx_txn_line_sat_cust_req_num)}    ${getNodePair(""cfdi:CuentaPredial"", ""Numero"" ,item.custcol_mx_txn_line_sat_cadastre_id)}    <#if customItem.parts?has_content>    <#list customItem.parts as part>    <#assign ""partItem"" = transaction.item[part.line?number]>    <#assign ""partSatCodes"" = satCodes.items[part.line?number]>    <cfdi:Parte Cantidad=""${partItem.quantity?string[""0.0""]}"" ClaveProdServ=""${partSatCodes.itemCode}"" Descripcion=""${partItem.description}"" Importe=""${part.amount?number?string[""0.00""]}"" ValorUnitario=""${part.rate?number?string[""0.00""]}""/>    </#list>    </#if>    </cfdi:Concepto>    </#list> </cfdi:Conceptos>  </cfdi:Comprobante>",Item Shipment,,
